import{r as _}from"./index.54ddac3f.js";const T=["cdn.shopify.com","cdn.shopifycdn.net","shopify-assets.shopifycdn.com","shopify-assets.shopifycdn.net"],g=["spin.dev"],C=[...T,...g],A=[352,832,1200,1920,2560];function x({src:t,width:r,height:h,crop:n,scale:c}){const u=new URL(t),e=c!=null?c:1;if(r){let i;typeof r=="string"?i=(A[0]*e).toString():i=(Number(r)*e).toString(),u.searchParams.append("width",i)}return h&&typeof h=="number"&&u.searchParams.append("height",(h*e).toString()),n&&u.searchParams.append("crop",n),u.toString()}function L(t){const r=new URL(t.src);return!C.some(n=>r.hostname.endsWith(n))||!t.width&&!t.height&&!t.crop&&!t.scale?t.src:x(t)}function R({data:t,loaderOptions:r,elementProps:h}){var c,u,e,i,S,y;let n=null;return(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&(n=(t==null?void 0:t.width)/(t==null?void 0:t.height)),(r==null?void 0:r.width)||(r==null?void 0:r.height)?{width:(c=r==null?void 0:r.width)!=null?c:n&&typeof r.height=="number"?Math.round(n*r.height):null,height:(u=r==null?void 0:r.height)!=null?u:n&&typeof r.width=="number"?Math.round(n*r.width):null}:(h==null?void 0:h.width)||(h==null?void 0:h.height)?{width:(e=h==null?void 0:h.width)!=null?e:n&&typeof h.height=="number"?Math.round(n*h.height):null,height:(i=h==null?void 0:h.height)!=null?i:n&&typeof h.width=="number"?Math.round(n*h.width):null}:(t==null?void 0:t.width)||(t==null?void 0:t.height)?{width:(S=t==null?void 0:t.width)!=null?S:null,height:(y=t==null?void 0:t.height)!=null?y:null}:{width:null,height:null}}function q(t){if(!t.data&&!t.src)throw new Error("<Image/>: requires either a 'data' or 'src' prop.");return t.data?_.exports.createElement(D,{...t}):_.exports.createElement(U,{...t})}function D({data:t,width:r,height:h,loading:n,loader:c=L,loaderOptions:u,widths:e,...i}){var b,v,N,E,$;if(!t.url)throw new Error("<Image/>: the 'data' prop requires the 'url' property");const{width:S,height:y}=R({data:t,loaderOptions:u,elementProps:{width:r,height:h}});let f=t.url;if(c&&(f=c({...u,src:t.url,width:S,height:y}),typeof f!="string"||!f))throw new Error(`<Image/>: 'loader' did not return a valid string. ${`Image: ${(b=t.id)!=null?b:t.url}`}`);const w=r&&S&&r<S?r:S,M=(v=i.srcSet)!=null?v:W({...u,widths:e,src:t.url,width:w,height:y,loader:c});return _.exports.createElement("img",{id:(N=t.id)!=null?N:"",alt:($=(E=t.altText)!=null?E:i.alt)!=null?$:"",loading:n!=null?n:"lazy",...i,src:f,width:S!=null?S:void 0,height:y!=null?y:void 0,srcSet:M})}function U({src:t,width:r,height:h,alt:n,loader:c,loaderOptions:u,widths:e,loading:i,...S}){var w,M,b,v;if(!r||!h)throw new Error(`<Image/>: when 'src' is provided, 'width' and 'height' are required and need to be valid values (i.e. greater than zero). Provided values: 'src': ${t}, 'width': ${r}, 'height': ${h}`);if(e&&Array.isArray(e)&&e.some(N=>isNaN(N)))throw new Error("<Image/>: the 'widths' property must be an array of numbers");let y=t;if(c&&(y=c({src:t,width:r,height:h,...u}),typeof y!="string"||!y))throw new Error("<Image/>: 'loader' did not return a valid string");let f=(w=S.srcSet)!=null?w:void 0;if(!f&&c&&e){const N=parseInt(h.toString())/parseInt(r.toString());f=(M=e==null?void 0:e.map(E=>parseInt(E,10)))==null?void 0:M.map(E=>`${c({...u,src:t,width:E,height:Math.floor(E*N)})} ${E}w`).join(", ")}return _.exports.createElement("img",{...S,src:y,width:(b=u==null?void 0:u.width)!=null?b:r,height:(v=u==null?void 0:u.height)!=null?v:h,alt:n!=null?n:"",loading:i!=null?i:"lazy",srcSet:f})}function W({src:t,width:r,crop:h,scale:n,widths:c,loader:u,height:e}){const i=c&&Array.isArray(c);if(i&&c.some(w=>isNaN(w)))throw new Error("<Image/>: the 'widths' must be an array of numbers");let S=1;r&&e&&(S=Number(e)/Number(r));let y=i?c:A;!i&&r&&r<A[A.length-1]&&(y=A.filter(w=>w<=r));const f=u||x;return y.map(w=>`${f({src:t,width:w,height:h?Number(w)*S:void 0,crop:h,scale:n})} ${w}w`).join(", ")}export{q as I,L as s};
//# sourceMappingURL=d2d62384.js.map
